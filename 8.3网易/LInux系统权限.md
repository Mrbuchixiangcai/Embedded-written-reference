## Linux 目录和文件的权限

| 权限 | 文件                               | 目录                                       |
| ---- | ---------------------------------- | ------------------------------------------ |
| r    | 读取**文件内容**的权限             | **浏览目录**的权限                         |
| w    | 新增、修改和删除**文件内容**的权限 | 新建、删除、修改和移动**目录内文件**的权限 |
| x    | 执行文件的权限                     | 该用户具有**进入目录**的权限               |

1. 查询文件或者目录的权限
   
   ```
   $ umask			//查询文件的umask权限
   0024
   $ umask	-S		// 查询其具体的rwx
   u=rwx,g=rx,o=wx
   $ umask 027		/修改当前的umask
   ```
   
2. **目录下**的权限条件？

   + 只有获得**x**权限：才能**cd**进入目录；
   + 只有获得 **x + r**：才能cd进入目录，并且**浏览**目录下的文件名和目录名；
   + 只有获得**w**权限：目录下的文件才能被**删除**；除非是文件所有者；

3. 如果没有目录下的w权限，即使拥有文件的w权限，某文件也不能写；

4. 如果目录下有文件，但是目录的权限不是rwx，则无法使用rm -rf 删除该目录；

### Linux 文件权限的计算

+ umask 、权限：默认是三位的8进制数；

1. Linux 系统权限755 777 644 ?

   + r -- 读 ; w -- 写 ; x -- 执行

   ![linux_chmod.png](/8.3网易/linux_chmod.png)
   
2. 3位的八进制数字

   - :7 (rwx),6 (rw-),5 (r-x),4 (r–),and 0 (-–)
   - “600”,我们能够设置文件所有者的权限为读写权限, 而删除用户组和其他人的所有权限。

### umask和文件目录的权限

| 区别        | umask               | 文件                                  | 目录                        |
| ----------- | ------------------- | ------------------------------------- | --------------------------- |
| 创建时默认  | root-022 / user-002 | 666 / rw-rw-rw                        | 777 / rwx-rwx-rwx           |
| x权限的区分 |                     | 文件默认没有x执行权限的，除非更改权限 | 默认含有x权限，才能进入目录 |
| 权限改变    | 当umask = 022       | 666 - 022 = 644  / rw - r - r         | 777 - 022 = 755 / rwx-rx-rx |

+ 当设置umask值

  ```
  文件和目录的权限 =  原来文件和目录的权限  -  umask
  ```

  