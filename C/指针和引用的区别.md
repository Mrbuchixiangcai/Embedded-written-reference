## C函数参数传递的三种方式

| 区别                   | 传值 | 传址                       | 传引用                     |
| ---------------------- | ---- | -------------------------- | -------------------------- |
| 本质                   |      | 参数的地址，想当于指针     | 参数的别名                 |
| 指针初始化后是否能改变 |      | 指针地址可以改变           | 不能改变，不能改变的指针   |
| 内存分配               |      | 为指针分配内存区           | 不分配，**引用不能为空值** |
| 级数限制               |      | 指针无限制(指向指针的指针) | 只有一级                   |
| 是够可以改变原值       | 不能 | 可以                       | 可以                       |



### 三种传参方式

1. 方法一: 传值方式，不能实现交换

   + 形参是实参的**拷贝**，改变形参的值并不会影响外部实参的值
   + 参数只能传入, 不能传出;
   + 在传参过程中，首先将变量的值复制，然后在myswap函数中修改的即是函数的值，然后函数返回时，系统自动释放变量; 因此对原函数没有影响

   ```
   // 方法一: 传值方式: 不能实现交换
   #include<stdio.h>
   void myswap(int x, int y)
   {
       int t;
       t=x;
       x=y;
       y=t;
   }
   int main()
   {
       int a, b;
       printf("请输入待交换的两个整数：");
       scanf("%d %d", &a, &b);
       myswap(a,b);  //作为对比，直接交换两个整数，显然不行
       printf("调用交换函数后的结果是：%d 和 %d\n", a, b);
       return 0;
   }
   ```

2. 方法二: 传址, 相当于传递指针的方式, 可以实现交换

   ```
   // 方法二: 传址, 相当于传递指针的方式, 可以实现交换
   #include<stdio.h>
   void myswap(int *p1, int *p2)
   {
       int  t;
       t=*p1;
       *p1=*p2;
       *p2=t;
   }
   int main()
   {
       int a, b;
       printf("请输入待交换的两个整数：");
       scanf("%d %d", &a, &b);
       myswap(&a,&b);  //交换两个整数的地址
       printf("调用交换函数后的结果是：%d 和 %d\n", a, b);
       return 0;
   }
   ```

3. 方法三: 传引用, **引用即别名**, 因此可以实现交换

   ```
   // 方法三: 传引用, 引用即别名, 因此可以实现交换
   #include<stdio.h>
   void myswap(int &x, int &y) //这里的形参为引用类型，引用与实参进行绑定，作为实参的别名
   {                       							    //所以，使用引用类型，传入实参后，函数对引用的操作，
       int t;              						    //就是对实参的操作，所以实参会发生变化                
       t=x;
       x=y;
       y=t;
   }
    
   int main()
   {
       int a, b;
       printf("请输入待交换的两个整数：");
       scanf("%d %d", &a, &b);
       myswap(a,b);  //直接以变量a和b作为实参交换
       printf("调用交换函数后的结果是：%d 和 %d\n", a, b);
       return 0;
   }
   ```

### 指针和引用的区别

1. 指针和引用的区别?

   + 引用是别名，指针是地址
   + 指针在运行时可以改变所指向的值，而引用一旦与某个对象绑定后就不再改变。
     + **引用可以被认为是不能改变的指针**
   + 内存分配：
     + 程序为指针变量分配区域，而不为引用分配内存区域
     + **引用不能为空值**
   + 指针没有级数限制，但是引用只有一级
     + 有指向指针的指针

   ![pointer.png](https://github.com/quronghui/Embedded-written-reference/blob/master/C/photo/pointer.png)


### 为什么要使用指针呢?

+ 通过指针进行传参, 避免了数据变量的重复复制;
+ 能动态分配内存，实现内存的自由管理
+ 能方便的访问字符串

