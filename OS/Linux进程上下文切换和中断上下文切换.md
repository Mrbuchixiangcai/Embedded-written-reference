## Linux进程上下文切换和中断上下文切换

| 区别       | 进程上下文切换                             | 中断上下文切换                                      |
| ---------- | ------------------------------------------ | --------------------------------------------------- |
| 引发原因   | 进程进行**系统调用**                       | 硬件触发信号, 导致内核调用ISR                       |
| 状态切换   | 用户态 -- > 内核态(**进程**运行于内核空间) | 用户态 -- > 内核态(**硬件**运行于内核空间)          |
| 保存现场   | 进程的三部分内容都切换                     | 内核保存**硬件传递的参数** 和 被中断程序相关寄存器; |
| 切换区别   | 进程切换                                   | 程序中止, 和特定进程无关                            |
| 抢占       | 可抢占                                     | 不可抢占                                            |
|            | 不可能同时发生                             |                                                     |
| 切换的内容 | 用户级/寄存器/系统级                       | 相关寄存器入栈                                      |

### Linux缺页中断和中断区别

| 区别     | 缺页中断                                    | 中断                     |
| -------- | ------------------------------------------- | ------------------------ |
| 产生原因 | CPU访问的页不存在与内存中，需要去外存中读取 | 内/外部事件触发          |
| 中断次数 | 一条指令在执行期间：可能产生多次缺页中断    | 一条指令，产生一次中断   |
| 中断返回 | 执行产生中断的那一条指令                    | 执行中断发生的下一条指令 |

