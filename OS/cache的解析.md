## [Cache的解析](https://blog.csdn.net/ENSHADOWER/article/details/89083447)

### cache的定义？价值？

1. 什么是cache？
   +  缓存是介于**中央处理器CPU和主存储器之间**的高速小容量**存储器**，不属于主存的一部分。 (速度快、容量小、由硬件实现)
2. 为什么需要cache？
   + 作为中间存储器，加快CPU与主存储之间的**访问速度**；
   + 当CPU发生调用时，先在cache中进行查找；如果此时cache中刚好存在，**Cache命中**，也叫作cache hit，TLB的命中；
   + **缓存**又可以分为一级和二级缓存，一级的速度大于二级的速度。
3. 抽象模型：
   + 医生 -- 护士 -- 手术工具箱

### 什么是二级缓存？

| 存储器 | 特点                                                         | 用在哪一级存储器 |
| ------ | ------------------------------------------------------------ | ---------------- |
| RAM    | 随机存取存储器(数据**可读可写**，但断电就消失)               |                  |
| ROM    | 只读存储器(只允许**一次写入**永久只能读，断电了还是存在的)   | BIOS是写进ROM    |
| SRAM   | **静态**随机存储器：**不刷新**电路即能保存它内部存储的数据   | 一级缓存         |
| DRAM   | **动态**随机存储器：常见的系统内存DRAM，电脑和手机里面内存；<br />使用**电容存储**：DRAM 只能将数据保持很短的时间，**定时刷新数据** | 二级缓存         |

### Cache与主存系统之间访问

1. 两者关系？

   + CPU 和 cache之间：**字**为单位；
   + cache 和 主存之间：**数据块**为单位；

2. CPU访问分为：命中和未命中两种情况？ 

   ![cache.png](/OS/photo/cache.png)

3. 补充

   + **硬盘中的数据会先写入内存才能被CPU使用。**
   + 内存+缓存 -> 内存储空间 
   + 硬盘 -> 外存储空间

### 缺页中断与页面置换算法

1. 缺页中断的过程？
   + 缺页中断：是由于所要访问的页面不存在于**内存**时（需要从外存中读取），由硬件所产生的一种**特殊的中断**
   + 在指令**执行期间**：产生和处理缺页中断信号。
   + 一条指令在执行期间，可能产生**多次缺页中断**。
   + **缺页中断返回时，执行产生中断的那一条指令；**而一般的中断返回时，执行**下一条**指令。
2. [页面置换算法？](/8.1Dji大疆/OScache多任务调度描述.md)
   +  将新页面调入内存时，**如果内存中所有的物理页都已经分配出去，就要按某种算法(页面置换算法)来废弃某个页面，将其所占据的物理页释放出来，**好的算法会让缺页率降低
   + LRU算法置换算法：最近最不常用调度算法(least recently used) 

