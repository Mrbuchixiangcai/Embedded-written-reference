## Http 和 TCP之间的区别和联系

1. TCP/IP是一个通信协议群，是底层通讯协议，定义的是数据传输和连接方式的规范
2. HTTP协议中的数据是利用TCP协议传输的，所以支持HTTP也就一定支持TCP      

## Http 和 Https 区别

| 区别      | Http                                                         | Https                                                      |
| --------- | ------------------------------------------------------------ | ---------------------------------------------------------- |
| URL       | http://                                                      | http://                                                    |
| OSI模型中 | 应用层                                                       | HTTPS 的**安全传输机制工作在传输层**                       |
| 协议      | 超文本传输协议，信息是明文传输                               | 具有安全性的ssl加密传输协议                                |
| 证书      | 无需证书                                                     | 向CA申请证书，且不是免费                                   |
| 端口      | 80                                                           | 443                                                        |
| 连接      | client/server：基于标准TCP<br />无连接：限制每次连接只处理一个请求\|<br />无状态：协议对于事务处理没有记忆能力，缺少就重传 | **SSL+HTTP协议**：构建的可进行加密传输、身份认证的网络协议 |
| 用途      | 用于从WWW服务器传输超文本到本地浏览器的传输协议              | 一种是建立一个信息安全通道；另一种就是确认网站的真实性     |
| 优缺点    | 传输快，连接简单；不安全                                     | 安全；连接过程复杂                                         |

## HTTP

1. HTTP协议即超文本传送协议(Hypertext Transfer Protocol )
   - 是Web联网的基础，也是手机联网常用的协议之一
   - HTTP协议是建立在**TCP协议**之上的一种应用
2. HTTP特点
   - 客户端发送的每次请求都需要服务器回送响应，在请求结束后，会**主动释放连接**
   - 从建立连接到关闭连接的过程称为“一次连接”
3. http 连接并完成一次请求？
   - a. 域名解析
   - b. 发起TCP的3次握手
   - c. 建立TCP连接后发起http请求
   - d. 服务器端响应http请求，浏览器得到html代码
   - e. 浏览器解析html代码，并请求html代码中的资源
   - f. 浏览器对页面进行渲染呈现给用户

### HTTP是无状态协议和解决？

1. 如何理解HTTP是无状态的协议？
   + 无状态协议对于事务处理没有记忆能力
   + 缺少状态意味着如果后续处理需要前面的信：客户端需要再发送一次HTTP请求，HTTP并不知道当前客户端是一个”老用户“
2. 如何解决HTTP的无状态协议？
   + 使用Cookie来解决无状态的问题；
   + Cookie就相当于一个通行证，第一次访问的时候给客户端发送一个Cookie，当客户端再次来的时候，拿着Cookie(通行证)，那么服务器就知道这个是”老用户“

### HTTP的方法有哪些？

1. http的方法有哪些？

   ![http_ways.png](https://github.com/quronghui/Embedded-written-reference/blob/master/TCP/photo/http_ways.png)

2. GET/POST的区别？

   + GET的语义是请求获取指定的资源。GET方法是安全、幂等、可缓存的（除非有 Cache-ControlHeader的约束）,GET方法的报文主体没有任何语义。
   + POST的语义是根据请求负荷（报文主体）对指定的资源做出处理，具体的处理方式视资源类型而不同。POST不安全，不幂等，（大部分实现）不可缓存。

3. **安全、幂等、缓存是什么？**

   + 安全：如果一个方法的语义在本质上是「**只读**」的，那么这个方法就是安全的。
     + 户端向服务端的资源发起的请求如果使用了是安全的方法，就不应该引起服务端任何的状态变化，因此也是无害的
     + 此RFC定义，GET, HEAD, OPTIONS 和 TRACE 这几个方法是安全的。
   + 幂等：指同一个请求方法执行多次和仅执行一次的效果完全相同
   + 缓存：顾名思义就是一个方法是否可以被缓存
     + HEAD 和 某些情况下的POST都是可缓存的
     + 但是绝大多数的浏览器的实现里仅仅支持GET和HEAD。

## Https

### Https 工作流程

![https_connect.png](https://github.com/quronghui/Embedded-written-reference/blob/master/TCP/photo/https_connect.png)

### [SSL 建立连接，确认密钥的过程](https://www.cnblogs.com/barrywxx/p/8570715.html)

![ssl_connect.png](https://github.com/quronghui/Embedded-written-reference/blob/master/TCP/photo/ssl_connect.png)

###  HTTPS是如何保证数据的安全？

+ 服务器和客户端双方用公有的相同的**对称秘钥对数据进行加密解密**，可以保证在数据收发过程中的安全
+ 1）客户端向服务器端发起SSL连接请求；（在此过程中依然存在数据被中间方盗取的可能，下面将会说明如何保证此过程的安全）
+ 2） 服务器把公钥发送给客户端，并且服务器端保存着唯一的私钥
+ 3）客户端用公钥对双方通信的对称秘钥进行加密，并发送给服务器端
+ 4）服务器利用自己唯一的私钥对客户端发来的对称秘钥进行解密，在此过程中，中间方无法对其解密（即使是客户端也无法解密，因为只有服务器端拥有唯一的私钥），这样保证了对称秘钥在收发过程中的安全，此时，服务器端和客户端拥有了一套完全相同的对称秘钥。
+ 5）进行数据传输，服务器和客户端双方用公有的相同的对称秘钥对数据进行加密解密，可以保证在数据收发过程中的安全，即是第三方获得数据包，也无法对其进行加密，解密和篡改。

