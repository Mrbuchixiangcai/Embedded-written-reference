## 基于UDP实现可靠传输

1. UDP的特性？
   + UDP处在传输层，那么udp在传输层是不能保证可靠传输的；
2. 实现UDP的可靠传输？
   + 要实现udp的可靠传输，只能在**应用层**实现；
   + 实现确认机制、重传机制、窗口确认机制。
3. 通过UDP模仿TCP提高可靠性？
   + 添加 seq/ack机制，确保数据发送到对端；（分包后添加序列号，应答ack）
   + 添加发送和接收缓冲区，确保重传数据还存在。
   + 添加超时重传机制，确保报文超过生存时间后，进行重传；
4. 详细说明：发送端发送数据时，生成一个随机seq=x，然后每一片按照数据大小分配seq。数据到达接收端后接收端放入缓存，并发送一个ack=x的包，表示对方已经收到了数据。发送端收到了ack包后，删除缓冲区对应的数据。时间到后，定时任务检查是否需要重传数据。